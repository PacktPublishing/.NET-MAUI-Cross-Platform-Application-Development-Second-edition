@page "/items"

@using System.Collections.ObjectModel
@using Microsoft.Extensions.Logging
@using MC = Microsoft.Maui.Controls
@using PassXYZ.Vault.Resources.Styles
@using PassXYZ.Vault.Models
@using PassXYZ.Vault.Pages
@using PassXYZ.Vault.Services

@inject Navigation Navigation

<ContentPage OnAppearing="OnAppearing">
    <ToolbarItems>
        <ToolbarItem Text="Add" OnClick="AddItem" IconImageSource="@(new FontImageSource{FontFamily = "FontAwesomeSolid",
              Color=Colors.Black, Glyph=FontAwesomeSolid.PlusCircle})" />
    </ToolbarItems>

    <ChildContent>
        <ListView ItemsSource="Items" VerticalOptions="LayoutOptions.FillAndExpand" RowHeight="84">
            <ItemTemplate>
                <ItemViewCell Item="@context"></ItemViewCell>
            </ItemTemplate>
        </ListView>
    </ChildContent>
</ContentPage>

@code 
{
    private async void AddItem()
    {
        //await MC.Shell.Current.GoToAsync(nameof(NewItemPage));
        await Navigation.PushAsync(@<NewItemPage />);
    }
}